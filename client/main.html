<head>
  <title>UCSB Collaborate Home</title>
  <link href="https://fonts.googleapis.com/css?family=Orbitron" rel="stylesheet" type="text/css"/>
</head>

<body>
  <nav class="navbar navbar-default">
    <div class="container-fluid">
      <div class="navbar-header">
        <a class="navbar-brand" href="http://localhost:3000"><img src="./collab_icon.jpeg" width="40" height="49" class="d-inline-block align-top" alt=""></a>
      </div>
      <ul class="nav navbar-nav">
        <li id="HOME" class="tab active"><a href="#">Home</a></li>
        <!-- 
        <li id="RE" class="tab"><a href="#">Reminders</a></li>
        -->
        <li id="LA" class="tab"><a href="#">Labs</a></li>
        <li id="CL" class="tab"><a href="#">Cleaning</a></li>
        <li id="WS" class="tab"><a href="#">Workshops</a></li>
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="#">{{> loginButtons}}</a></li>
        <li>
          <label class="switch"  data-toggle="tooltip" data-placement="bottom" title="Night Mode">
            <input id="night" type="checkbox" name="night">
            <span class="slider round"></span>
          </label>
        </li>
      </ul>
    </div>
  </nav>
  <div class="main-container">
    {{#if currentUser}}
    <div class="row">
      <div class="col-lg-12">
        <div id="msg" class="alert alert-success alert-dismissable">
          <a href="#" class="close" aria-label="close">&times;</a>
          <strong>{{message}}</strong>
        </div>
      </div>
    </div>
    {{/if}}
    <div class="row" style="border-bottom: 1px solid;margin-bottom: 10px;">
      <div class="col-sm-4">
        {{> clock}}
      </div>
      <div class="col-sm-4">
        <h2>Current Quarter:</h2>
        <p style="text-align: center;">Summer 2017</p>
      </div>
    </div>
    <div class="gin" id="gin-HOME">
      {{> home}}
    </div>
    <div class="gin" id="gin-RE" style="display: none;">
      {{> reminders}}
    </div>
    <div class="gin" id="gin-LA" style="display: none;">
      {{> labs}}
    </div>
    <div class="gin" id="gin-CL" style="display: none;">
      {{> cleaning}}
    </div>
    <div class="gin" id="gin-WS" style="display: none;">
      {{> workshops}}
    </div>
  </div>

</body>

<template name="home">
  {{#if currentUser}}
  <h1>Welcome back, {{current_user}} !</h1>
  {{else}}
  <h1>Welcome, please login first!</h1>
  {{/if}}
  {{> userList}}
</template>

<template name="clock">
  <div style="max-width:230px;width:100%;padding:20px;margin-left: auto;margin-right: auto;margin-bottom: -10px;">

    <table class="tabBlock" align="center" cellspacing="0" cellpadding="0" border="0">
      <tr><td id="date" class="clock">{{date}}</td></tr>
      <tr><td class="clock" id="dc">{{dc}}</td>  <!-- THE DIGITAL CLOCK. -->
        <td>
          <table cellpadding="0" cellspacing="0" border="0">
            <!-- HOUR IN 'AM' AND 'PM'. -->
            <tr><td class="clocklg" id="dc_hour">{{dc_hour}}</td></tr>

            <!-- SHOWING SECONDS. -->
            <tr><td class="clocklg" id="dc_second">{{dc_second}}</td></tr>
          </table>
        </td>
      </tr>
    </table>
  </div>
</template>

<template name="userList">
  <h4>Current userList:</h4>
  <ul>
    {{#each userList}}
      <li>{{name}}</li>
    {{/each}}
  </ul>
</template>

<template name="reminders">
  {{#if currentUser}}
    <h3>Add reminders:</h3>
    <form class="add-reminders">
      <div class="input-group">
        <label>Reminders</label>
        <input type="text" class="form-control" name="name" placeholder="Add reminders" />
        <span class="input-group-btn">
          <input type="submit" class="btn btn-primary" value="Submit" />
        </span>
      </div>
    </form>
  {{else}}
    {{> notLoggedIn}}
  {{/if}}
  <h4>Current reminders:</h4>
  <ul>
    {{#each reminders_list}}
      <li>{{name}} {{#if currentUser}}<a href="#" class="delete-reminders">X</a>{{/if}}</li>
    {{/each}}
  </ul>
</template>

<template name="cleaning">
  {{#if currentUser}}
    <dl class="row" id="show-dl">
      <dt class="col-sm-6">Today's cleaning</dt>
      <dd class="col-sm-6">{{cleaning_duty}}</dd>
      <dt class="col-sm-6">You have cleaned</dt>
      <dd class="col-sm-6">{{rooms_cleaned}} rooms today</dd>
    </dl>
    <div class="row">
      <div class="col-lg-12">
        <button type="button" class="reset-cleaning btn btn-danger">Reset</button>
      </div>
    </div>
    
    <div id="clean-table" class="row">
      <div class="col-lg-3">
        <h2>PHELPS</h2>
        <table>
          <tr>
            <td>Phelps 1530</td>
            <td id="1530" class="clean-room">{{p1530}}</td>
          </tr>
          <tr>
            <td>Phelps 1529</td>
            <td id="1529" class="clean-room">{{p1529}}</td>
          </tr>
          <tr>
            <td>Phelps 1526</td>
            <td id="1526" class="clean-room">{{p1526}}</td>
          </tr>
          <tr>
            <td>Phelps 1525</td>
            <td id="1525" class="clean-room">{{p1525}}</td>
          </tr>
          <tr>
            <td>Phelps 1521</td>
            <td id="1521" class="clean-room">{{p1521}}</td>
          </tr>
          <tr>
            <td>Phelps 1518</td>
            <td id="1518" class="clean-room">{{p1518}}</td>
          </tr>
          <tr>
            <td>Phelps 1517</td>
            <td id="1517" class="clean-room">{{p1517}}</td>
          </tr>
          <tr>
            <td>Phelps 1514</td>
            <td id="1514" class="clean-room">{{p1514}}</td>
          </tr>
          <tr>
            <td>Phelps 1513</td>
            <td id="1513" class="clean-room">{{p1513}}</td>
          </tr>
        </table>
      </div>
      <div class="col-lg-3">
        <h2>HSSB</h2>
        <table>
          <tr>
            <td>HSSB</td>
            <td id="HSSB" class="clean-room">{{HSSB}}</td>
          </tr>
          <tr>
            <td>SSMS 1005</td>
            <td id="1005" class="clean-room">{{s1005}}</td>
          </tr>
          <tr>
            <td>SSMS 1007</td>
            <td id="1007" class="clean-room">{{s1007}}</td>
          </tr>
          <tr>
            <td>SSMS 1301</td>
            <td id="1301" class="clean-room">{{s1301}}</td>
          </tr>
          <tr>
            <td>SSMS 1302</td>
            <td id="1302" class="clean-room">{{s1302}}</td>
          </tr>
          <tr>
            <td>SSMS 1303</td>
            <td id="1303" class="clean-room">{{s1303}}</td>
          </tr>
          <tr>
            <td>SSMS 1304</td>
            <td id="1304" class="clean-room">{{s1304}}</td>
          </tr>
        </table>
      </div>
      <div class="col-lg-3">
        <h2>LIFE SCIENCE</h2>
        <table>
          <tr>
            <td>LSCF 1804</td>
            <td id="1804" class="clean-room">{{l1804}}</td>
          </tr>
          <tr>
            <td>LSCF 1805</td>
            <td id="1805" class="clean-room">{{l1805}}</td>
          </tr>
          <tr>
            <td>LSCF 1806</td>
            <td id="1806" class="clean-room">{{l1806}}</td>
          </tr>
          <tr>
            <td>BSIF</td>
            <td id="BSIF" class="clean-room">{{BSIF}}</td>
          </tr>
        </table>
      </div>
      <div class="col-lg-3">
        <h2>MUSIC</h2>
        <table>
          <tr>
            <td>MUSIC</td>
            <td id="MUSIC" class="clean-room">{{MUSIC}}</td>
          </tr>
        </table>
      </div>
    </div>
  {{else}}
    {{> notLoggedIn}}
  {{/if}}
</template>

<template name="labs">
  {{#if isAdmin}}
  <div class="col-lg-4">
    <h3>Add rooms:</h3>
    <form class="add-rooms">
      <div class="input-group">
        <label>Room Number</label>
        <input type="text" class="form-control" name="name" placeholder="Add room" />
        <span class="input-group-btn">
          <input type="submit" class="btn btn-primary" value="Submit" />
        </span>
      </div>
    </form>
  </div>
  {{/if}}
  <div class="col-lg-4">
    <h4>Current rooms:</h4>
    <ul>
      {{#each rooms}}
        <li>{{name}} {{#if isAdmin}}<a href="#" class="delete-rooms">X</a>{{/if}}</li>
      {{/each}}
    </ul>
  </div>
</template>

<template name="workshops">
  <h4> Current workshop schedules:</h4>
</template>

<template name="notLoggedIn">
  <div class="center-container">
    <img src="./collab_icon.jpeg">
    <h2>Access denied. Please log in first!</h2>
  </div>
</template>
