<head>
  <title>UCSB Collaborate Home</title>
  <link href="https://fonts.googleapis.com/css?family=Orbitron" rel="stylesheet" type="text/css"/>
  <link href="https://fonts.googleapis.com/css?family=Rubik" rel="stylesheet">
</head>

<body>
  <nav class="navbar navbar-default navbar-fixed-top navbar-toggleable-md">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>                        
        </button>
        <a class="navbar-brand" href="#"><img src="./collab_icon.jpeg" width="40" height="49" class="d-inline-block align-top" alt=""></a>
      </div>
      <div class="collapse navbar-collapse" id="myNavbar">
        <ul class="nav navbar-nav">
          <li id="HOME" class="tab active"><a href="#">Home</a></li>
          <!-- 
          <li id="RE" class="tab"><a href="#">Reminders</a></li>
          -->
          {{#if currentUser}}
          <li id="LA" class="tab"><a href="#">Labs</a></li>
          <li id="WS" class="tab"><a href="#">Workshops</a></li>
          <li id="CL" class="tab"><a href="#">Cleaning</a></li>
          <li id="LNS" class="tab"><a href="#">Lab No Shows</a></li>
          <li id="WF" class="tab"><a href="#">Wireframe</a></li>
          {{/if}}
        </ul>
        <ul class="nav navbar-nav navbar-right">
          <li style="margin-top: 13px;margin-right: 95px;">
            {{#if currentUser}}
            {{> loginButtons}}
            {{/if}}
          </li>
          <li><label class="switch"  data-toggle="tooltip" data-placement="bottom" title="Night Mode">
          <input id="night" type="checkbox" name="night">
          <span class="slider round"></span>
        </label></li>
        </ul>
      </div>
    </div>
  </nav>
  <div class="main-container">
    {{#if currentUser}}
    <div class="row" style="padding-top: 15px;">
      <div class="col-lg-12">
        <div id="msg" class="alert alert-info alert-dismissable">
          <a href="#" class="close" aria-label="close">&times;</a>
          <strong>{{message}}</strong>
        </div>
      </div>
    </div>
    {{/if}}
    <div class="row" style="border-bottom: 1px solid;margin-bottom: 10px;">
      <div class="col-sm-4">
        {{> clock}}
      </div>
      <div class="col-sm-4">
        <h2>Current Quarter:</h2>
        <p style="text-align: center;">Summer 2017</p>
      </div>
    </div>
    <div class="gin" id="gin-HOME">
      {{> home}}
    </div>
    <div class="gin" id="gin-LA" style="display: none;">
      {{> labs}}
    </div>
    <div class="gin" id="gin-CL" style="display: none;">
      {{> cleaning}}
    </div>
    <div class="gin" id="gin-WS" style="display: none;">
      {{> workshops}}
    </div>
    <div class="gin" id="gin-LNS" style="display: none;">
      {{> labNoShows}}
    </div>
    <div class="gin" id="gin-WF" style="display: none;">
      {{> wireFrame}}
    </div>
  </div>
</body>

<template name="home">
  {{#if currentUser}}
  <h1>Welcome, {{current_user}} !</h1>
  {{#if isAdmin}}
  {{> userList}}
  {{/if}}
  <br>
  {{> reminders}}
  <br>
  {{> jeopardy}}
  {{else}}
  {{> notLoggedIn}}
  {{/if}}
</template>

<template name="clock">
  <div style="max-width:230px;width:100%;padding:20px;margin-left: auto;margin-right: auto;margin-bottom: -10px;">

    <table class="tabBlock" align="center" cellspacing="0" cellpadding="0" border="0">
      <tr><td id="date" class="clock">{{date}}</td></tr>
      <tr><td class="clock" id="dc">{{dc}}</td>  <!-- THE DIGITAL CLOCK. -->
        <td>
          <table cellpadding="0" cellspacing="0" border="0">
            <!-- HOUR IN 'AM' AND 'PM'. -->
            <tr><td class="clocklg" id="dc_hour">{{dc_hour}}</td></tr>

            <!-- SHOWING SECONDS. -->
            <tr><td class="clocklg" id="dc_second">{{dc_second}}</td></tr>
          </table>
        </td>
      </tr>
    </table>
  </div>
</template>

<template name="userList">
  <h4>Current User List:</h4>
  <ul>
    {{#each allUsers}}
      <li>{{email}}</li>
    {{/each}}
  </ul>
</template>

<template name="reminders">
  <h4>Current Reminders:</h4>
  <ul>
    <li>You have signed up for [NAME] workshop on [DATE]</li>
    <li>You haven't cleaned any labs today yet</li>
    <li>Fall 2017 scheduling will be on [DATE]</li>
  </ul>
</template>

<template name="jeopardy">
  <div class="col-lg-4">
    <h4>Hourly Jeopardy</h4>
    <form class="j-ans">
      <div class="input-group">
        <label>[QUESTION HERE]</label>
        <input type="text" class="form-control" name="ans" placeholder="Answer" />
        <span class="input-group-btn">
          <input type="submit" class="btn btn-primary" value="Submit" />
        </span>
      </div>
    </form>
  </div>
</template>

<template name="cleaning">
  {{#if currentUser}}
    <dl class="row" id="show-dl">  
      <dt class="col-sm-6">Instructions</dt>
      <dd class="col-sm-6">Click --- to record your cleaning!</dd>
      <dt class="col-sm-6"></dt>
      <dd class="col-sm-6">Click again to remove your cleaning record!</dd>
    </dl>
    <br>
    <dl class="row" id="show-dl">
      <dt class="col-sm-6">Today's cleaning</dt>
      <dd class="col-sm-6">{{cleaning_duty}}</dd>
      <dt class="col-sm-6">You have cleaned</dt>
      <dd class="col-sm-6">{{rooms_cleaned}} rooms today</dd>
    </dl>
    {{#if isAdmin}}
    <div class="row">
      <div class="col-lg-12">
        <button type="button" class="reset-cleaning btn btn-danger">Reset</button>
      </div>
    </div>
    {{/if}}
    <div class="clean-table row">
      <div class="col-lg-3">
        <h2>PHELPS</h2>
        <table>
          <tr>
            <td>Phelps 1530</td>
            <td id="1530" class="clean-room">{{p1530}}</td>
          </tr>
          <tr>
            <td>Phelps 1529</td>
            <td id="1529" class="clean-room">{{p1529}}</td>
          </tr>
          <tr>
            <td>Phelps 1526</td>
            <td id="1526" class="clean-room">{{p1526}}</td>
          </tr>
          <tr>
            <td>Phelps 1525</td>
            <td id="1525" class="clean-room">{{p1525}}</td>
          </tr>
          <tr>
            <td>Phelps 1521</td>
            <td id="1521" class="clean-room">{{p1521}}</td>
          </tr>
          <tr>
            <td>Phelps 1518</td>
            <td id="1518" class="clean-room">{{p1518}}</td>
          </tr>
          <tr>
            <td>Phelps 1517</td>
            <td id="1517" class="clean-room">{{p1517}}</td>
          </tr>
          <tr>
            <td>Phelps 1514</td>
            <td id="1514" class="clean-room">{{p1514}}</td>
          </tr>
          <tr>
            <td>Phelps 1513</td>
            <td id="1513" class="clean-room">{{p1513}}</td>
          </tr>
        </table>
      </div>
      <div class="col-lg-3">
        <h2>HSSB</h2>
        <table>
          <tr>
            <td>HSSB</td>
            <td id="HSSB" class="clean-room">{{HSSB}}</td>
          </tr>
          <tr>
            <td>SSMS 1005</td>
            <td id="1005" class="clean-room">{{s1005}}</td>
          </tr>
          <tr>
            <td>SSMS 1007</td>
            <td id="1007" class="clean-room">{{s1007}}</td>
          </tr>
          <tr>
            <td>SSMS 1301</td>
            <td id="1301" class="clean-room">{{s1301}}</td>
          </tr>
          <tr>
            <td>SSMS 1302</td>
            <td id="1302" class="clean-room">{{s1302}}</td>
          </tr>
          <tr>
            <td>SSMS 1303</td>
            <td id="1303" class="clean-room">{{s1303}}</td>
          </tr>
          <tr>
            <td>SSMS 1304</td>
            <td id="1304" class="clean-room">{{s1304}}</td>
          </tr>
        </table>
      </div>
      <div class="col-lg-3">
        <h2>LIFE SCIENCE</h2>
        <table>
          <tr>
            <td>LSCF 1804</td>
            <td id="1804" class="clean-room">{{l1804}}</td>
          </tr>
          <tr>
            <td>LSCF 1805</td>
            <td id="1805" class="clean-room">{{l1805}}</td>
          </tr>
          <tr>
            <td>LSCF 1806</td>
            <td id="1806" class="clean-room">{{l1806}}</td>
          </tr>
          <tr>
            <td>BSIF</td>
            <td id="BSIF" class="clean-room">{{BSIF}}</td>
          </tr>
        </table>
      </div>
      <div class="col-lg-3">
        <h2>MUSIC</h2>
        <table>
          <tr>
            <td>MUSIC</td>
            <td id="MUSIC" class="clean-room">{{MUSIC}}</td>
          </tr>
        </table>
      </div>
    </div>
  {{else}}
    {{> notLoggedIn}}
  {{/if}}
</template>

<template name="labs">
  {{#if currentUser}}
  {{#if isAdmin}}
  <div class="col-lg-4">
    <h3>Add labs:</h3>
    <form class="add-rooms">
      <div class="input-group">
        <label>Room Name</label>
        <input type="text" class="form-control" name="name" placeholder="Add room" />
        <span class="input-group-btn">
          <input type="submit" class="btn btn-primary" value="Submit" />
        </span>
      </div>
    </form>
  </div>
  {{/if}}
  <div class="col-lg-4">
    <h4>Current labs:</h4>
    <ul>
      {{#each rooms}}
        <li><a id={{name}}-detail href="#">{{name}}</a> {{#if isAdmin}}<a href="#" class="delete-rooms">X</a>{{/if}}</li>
      {{/each}}
    </ul>
  </div>
  <div class="col-lg-4">
    <h2>Lab Details:</h2>
    <dl class="row" id="show-dl">
      <dt class="col-sm-6">Lab</dt>
      <dd class="lab-name col-sm-6">-</dd>
      <dt class="col-sm-6">Help Desk Availability</dt>
      <dd class="help-desk col-sm-6">-</dd>
      <dt class="col-sm-6">Number of Print Spots</dt>
      <dd class="print-spot col-sm-6">-</dd>
      <dt class="col-sm-6">Number of Computers</dt>
      <dd class="computers col-sm-6">-</dd>

    </dl>
    <img class='lab-pic' src="./print_default.jpg">
  </div>
  {{else}}
  {{> notLoggedIn}}
  {{/if}}
</template>

<template name="workshops">
  {{#if currentUser}}
  <dl class="row" id="show-dl">  
    <dt class="col-sm-6">Instructions</dt>
    <dd class="col-sm-6">Click OPEN to claim your workshop spot!</dd>
    <dt class="col-sm-6"></dt>
    <dd class="col-sm-6">Click again to remove your workshop spot!</dd>
  </dl>
  <br>
  <dl class="row" id="show-dl">
    <dt class="col-sm-6">Time</dt>
    <dd class="col-sm-6">7PM -9PM</dd>
    <dt class="col-sm-6">Location</dt>
    <dd class="col-sm-6">SSMS 1304</dd>
  </dl>
  <div class="row">
  {{#if isAdmin}}
    <h2>Add workshop:</h2>
    <form class="add-workshops">
      <div class="row" style="max-width: 650px;margin-left: auto;margin-right: auto;">
        <div class="col-lg-5">
          <label>Date</label>
          <input type="text" class="form-control" name="date" placeholder="Date" />
        </div>
        <div class="col-lg-5">
          <label>Workshop Name</label>
          <input type="text" class="form-control" name="name" placeholder="Workshop Name" />
        </div>
        <div class="col-lg-2">
          <button type="submit" class="btn btn-primary" value="Submit" style="
  margin-top: 25px;"> Submit</button>
        </div>
      </div>
        <!--
        <div class="row">
          <label>Opco/Cons 1</label>
          <input type="text" class="form-control" name="p1" placeholder="Put 'OPEN' if empty" />
        </div>
        <div class="row">
          <label>Opco/Cons 2</label>
          <input type="text" class="form-control" name="p2" placeholder="Put 'OPEN' if empty" />
        </div>
        -->
    </form>{{/if}}
    <div id="ws-table" class="workshops-table col-md-12">
      <table>
        <tr>
          <th>Date</th>
          <th>Workshop</th>
          <th>OpCo/Cons 1</th>
          <th>OpCo/Cons 2</th>
        </tr>
        {{#each workshops}}
        <tr>
          <td>{{date}}</td>
          <td>{{name_w_s}}</td>
          <td class="ws-open" id="{{name}}1">{{p1}}</td>
          <td class="ws-open" id="{{name}}2">{{p2}}</td>
          {{#if isAdmin}}<td><a href="#" class="delete-workshops btn btn-danger">X</a></td>{{/if}}
        </tr>
        
        {{/each}}
      </table>
    </div>
  </div>
  {{else}}
  {{> notLoggedIn}}
  {{/if}}
</template>

<template name="labNoShows">
  {{#if currentUser}}
    <h2>Lab No Shows</h2>
    <div class="lab-form">
      <form class="add-labNoShows">
        <div class="row">
          <div class="col-sm-3">
            <div class="input-group">
              <label>Class Name</label>
              <input type="text" class="form-control" name="className" placeholder="Class Name" />
            </div>
          </div>
          <div class="col-sm-3">
            <div class="input-group">
              <label>Professor Name</label>
              <input type="text" class="form-control" name="professorName" placeholder="Professor Name" />
            </div>
          </div>
          <div class="col-sm-3">
            <div class="input-group">
              <label>Location</label>
              <input type="text" class="form-control" name="location" placeholder="Location" />
            </div>
          </div>
          <div class="col-sm-2">
            <div class="input-group">
              <label>Start-End Time</label>
              <input type="text" class="form-control" name="startEndTime" placeholder="Start-End Time" />
            </div>
          </div>
          <div class="col-sm-1">
            <button type="submit" class="btn btn-primary" value="Submit" style="margin-top: 25px;"> Submit</button>
          </div>
        </div>
      </form>
    </div>
    <div class="clean-table row">
      <table>
        <tr>
          <th>Week#</th>
          <th>Date</th>
          <th>Day Of The Week</th>
          <th>Start-End Time</th>
          <th>Location</th>
          <th>Professor Name</th>
          <th>Class Name</th>
          <th>Recorded By</th>
          <th>Time</th>
        </tr>
        {{#each labNoShows}}
        <tr>
          <td>{{week}}</td>
          <td>{{date}}</td>
          <td>{{day}}</td>
          <td>{{SEtime}}</td>
          <td>{{location}}</td>
          <td>{{professorName}}</td>
          <td>{{className}}</td>
          <td>{{recordedBy}}</td>
          <td>{{time}}</td>
          {{#if currentUser}}<td><a href="#" class="delete-labNoShows btn btn-danger">X</a></td>{{/if}}
        </tr>
        
        {{/each}}
      </table>
  </div>
  {{else}}
    {{> notLoggedIn}}
  {{/if}}
</template>

<template name="wireFrame">
  {{#if currentUser}}
    <div class="row">
      <h2>Wireframe Media Studio Policies</h2>
      <p>By signing this form, I acknowledge that my use of the Wireframe media studio is a privilege granted through enrollment in Film and Media Studies courses taught by either Professor Shereen Sakr or Professor Chang, and is contingent upon responsible and fair use of the space and its equipment. You also agree to abide by the following rules and policies:</p>
      <ul>
      <li>Students are not allowed to alter the software or hardware configurations of any of the lab equipment without prior authorization from either a teacher or lab proctor.</li>
      <li>While using the space, students must remain vigilant—never leave either the cage or outer doors propped or leave the space unattended.</li>
      <li>Do not allow unaffiliated students into the space.</li>
      <li>Coursework takes priority over all other uses.</li>
      <li>Practice courtesy. Be mindful of others using the Wireframe space or the digital humanities commons, by using headphones to minimize noise disruption, keeping the space clean, returning things to their original places, shutting equipment down properly, charging controllers, and so on</li>
      <li>Observe “recording in progress” signs for production work</li>
      <li>Check the library calendar for Wireframe’s availability: <a target="_blank" href="http://www.library.ucsb.edu/sites/default/files/winter_1.pdf">http://www.library.ucsb.edu/sites/default/files/winter_1.pdf</a>.</li>
      </ul>
      <h2>Procedures</h2>
      <p>To enter Wireframe, you must first sign in at the front desk in the lobby of the Music building. Give your student ID to the worker at the desk, and that staff member will unlock the lab space for your use. Your ID card will be returned when you sign out and verify that you have left all equipment as you found it.</p>
      <p>Any equipment that is damaged, broken, or goes missing while you are using the space becomes your responsibility. We reserve the right to charge your BARC account if the lab equipment is handled inappropriately or negligently.</p>
      <p style="text-align: center;"> [CSSC STAFF ONLY] <a target="_blank" href="https://ucsb.app.box.com/files/0/f/16880377852/1/f_113185636595">WireFrame Roster</a> </p>
    </div>
    <div class="row">
      <form class="add-wireFrame">
        <div class="col-md-4">
          <label>Perm Number</label>
          <input type="text" class="form-control" name="permNumber" placeholder="Perm Number" />
        </div>
        <div class="col-md-3">
          <label>Check</label>
          <select class="form-control" name="checked" id="check">
            <option value="In">In</option>
            <option value="Out">Out</option>
          </select>
        </div>
        <div class="col-md-4">
          <label>Comments</label>
          <input type="text" class="form-control" name="comments" placeholder="[CSSC STAFF ONLY]" />
        </div>
        <div class="col-md-1">
          <button type="submit" class="btn btn-primary" value="Submit" style="
    margin-top: 25px;"> Submit</button>
        </div>
      </form>
    </div>
    <div class="clean-table row">
      <table>
        <tr>
          <th>Perm Number</th>
          <th>Checked</th>
          <th>Comments</th>
          <th>Recorded By</th>
          <th>Recorded At</th>
        </tr>
        {{#each wireFrame}}
        <tr>
          <td>{{perm}}</td>
          <td>{{checked}}</td>
          <td>{{comments}}</td>
          <td>{{recordedBy}}</td>
          <td>{{recordedAt}}</td>
          {{#if currentUser}}<td><a href="#" class="delete-wireFrame btn btn-danger">X</a></td>{{/if}}
        </tr>
        
        {{/each}}
      </table>
    </div>

  {{else}}
    {{> notLoggedIn}}
  {{/if}}
</template>

<template name="notLoggedIn">
  <div id="login-container" class="row">
    <div class="col-sm-6">
      <div class="center-container">
        <img src="./collab_icon.jpeg">
      </div>
    </div>
    <div class="col-sm-6">
        {{> login}}
        {{> register}}
    </div>
  </div>
</template>

<template name="register">
  <div id="r-p" class="md-container" style="display: none;">
    <h2>Register</h2>
    <form class="register">
      <p>Email: <input class="form-control" type="email" name="email" placeholder="@umail only!"></p>
      <p>Password: <input class="form-control" type="password" name="password"></p>
      <span><input class="btn btn-primary" type="submit" value="Register"></span> | <span>Already have an account? Log in <a href="#" class="s-login">here</a></span> 
    </form>
  </div>
</template>

<template name="login">
  <div id="l-p" class="md-container">
    <h2>Sign in</h2>
    <div id="err-msg" class="alert-container">
      {{#if errorMessage}}
        <div class="alert alert-danger alert-dismissable">
          <a href="#" class="close" aria-label="close">&times;</a>
          <strong>{{errorMessage}}</strong>
        </div>
      {{/if}}
    </div>
    <form class="login">
      <p>Email: <input class="form-control" type="email" name="email" placeholder="@umail only!"></p>
      <p>Password: <input class="form-control" type="password" name="password"></p>
      <span><input class="btn btn-primary" type="submit" value="Login"></span> | <span>Don't have an account? Register <a href="#" class="s-register">here</a></span>
    </form>
  </div>
</template>
